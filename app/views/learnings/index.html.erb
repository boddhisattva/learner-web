
<section class="section">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-10">
        <div class="content">
          <h1 class="title has-text-centered">
            Learning Lessons
            <%= link_to new_learning_path, class: "button is-primary is-pulled-right" do %>
              <span class="icon">
                <i class="fas fa-plus"></i>
              </span>
              <span>New Learning</span>
            <% end %>
          </h1>

          <% if @learnings.any? %>
            <div class="box">
              <table class="table is-fullwidth is-hoverable">
                <thead>
                  <tr>
                    <th>Title</th>
                    <th>Lesson</th>
                    <th>Created</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody>
                  <% @learnings.each do |learning| %>
                    <tr>
                      <td><%= learning.lesson %></td>
                      <td></td>
                      <td><%= learning.created_at.strftime("%B %d, %Y") %></td>
                      <td>
                        <div class="buttons are-small">
                          <%= link_to learning_path(learning), class: "button is-info" do %>
                            <span class="icon">
                              <i class="fas fa-eye"></i>
                            </span>
                          <% end %>

                          <%= link_to edit_learning_path(learning), class: "button is-warning" do %>
                            <span class="icon">
                              <i class="fas fa-edit"></i>
                            </span>
                          <% end %>

                          <%= link_to learning_path(learning),
                              method: :delete,
                              data: { confirm: "Are you sure you want to delete this learning?" },
                              class: "button is-danger" do %>
                            <span class="icon">
                              <i class="fas fa-trash"></i>
                            </span>
                          <% end %>
                        </div>
                      </td>
                    </tr>
                  <% end %>
                </tbody>
              </table>
            </div>

            <% if @learnings.respond_to?(:total_pages) %>
              <nav class="pagination is-centered" role="navigation" aria-label="pagination">
                <%= paginate @learnings %>
              </nav>
            <% end %>
          <% else %>
            <div class="notification is-info is-light">
              <p class="has-text-centered">No learnings have been created yet.
                <%= link_to "Create your first learning", new_learning_path %>
              </p>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</section>
